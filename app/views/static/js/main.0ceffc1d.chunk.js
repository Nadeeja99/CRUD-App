(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{39:function(e,t,i){},63:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i(1),s=i(30),c=i.n(s),l=i(13),r=i(5),o=i(6),u=i(12),d=i(11),h=i(2),b=(i(38),i(39),i(3)),j=i(31),p=i.n(j).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),v=new(function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(){return p.get("/tutorials")}},{key:"get",value:function(e){return p.get("/tutorials/".concat(e))}},{key:"create",value:function(e){return p.post("/tutorials",e)}},{key:"update",value:function(e,t){return p.put("/tutorials/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/tutorials/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/tutorials")}},{key:"findByTitle",value:function(e){return p.get("/tutorials?title=".concat(e))}}]),e}()),m=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var a;return Object(r.a)(this,i),(a=t.call(this,e)).onChangeTitle=a.onChangeTitle.bind(Object(b.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(b.a)(a)),a.saveTutorial=a.saveTutorial.bind(Object(b.a)(a)),a.newTutorial=a.newTutorial.bind(Object(b.a)(a)),a.state={id:null,title:"",description:"",published:!1,submitted:!1},a}return Object(o.a)(i,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"saveTutorial",value:function(){var e=this,t={title:this.state.title,description:this.state.description};v.create(t).then((function(t){e.setState({id:t.data.id,title:t.data.title,description:t.data.description,published:t.data.published,submitted:!0}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"newTutorial",value:function(){this.setState({id:null,title:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"You submitted successfully!"}),Object(a.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.title,onChange:this.onChangeTitle,name:"title"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})]}),Object(a.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Submit"})]})})}}]),i}(n.Component),O=i(15),f=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var a;return Object(r.a)(this,i),(a=t.call(this,e)).onChangeTitle=a.onChangeTitle.bind(Object(b.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(b.a)(a)),a.getTutorial=a.getTutorial.bind(Object(b.a)(a)),a.updatePublished=a.updatePublished.bind(Object(b.a)(a)),a.updateTutorial=a.updateTutorial.bind(Object(b.a)(a)),a.deleteTutorial=a.deleteTutorial.bind(Object(b.a)(a)),a.state={currentTutorial:{id:null,title:"",description:"",published:!1},message:""},a}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.getTutorial(this.props.match.params.id)}},{key:"onChangeTitle",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTutorial:Object(O.a)(Object(O.a)({},e.currentTutorial),{},{title:t})}}))}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTutorial:Object(O.a)(Object(O.a)({},e.currentTutorial),{},{description:t})}}))}},{key:"getTutorial",value:function(e){var t=this;v.get(e).then((function(e){t.setState({currentTutorial:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updatePublished",value:function(e){var t=this,i={id:this.state.currentTutorial.id,title:this.state.currentTutorial.title,description:this.state.currentTutorial.description,published:e};v.update(this.state.currentTutorial.id,i).then((function(i){t.setState((function(t){return{currentTutorial:Object(O.a)(Object(O.a)({},t.currentTutorial),{},{published:e})}})),console.log(i.data)})).catch((function(e){console.log(e)}))}},{key:"updateTutorial",value:function(){var e=this;v.update(this.state.currentTutorial.id,this.state.currentTutorial).then((function(t){console.log(t.data),e.setState({message:"The tutorial was updated successfully!"})})).catch((function(e){console.log(e)}))}},{key:"deleteTutorial",value:function(){var e=this;v.delete(this.state.currentTutorial.id).then((function(t){console.log(t.data),e.props.history.push("/tutorials")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.currentTutorial;return Object(a.jsx)("div",{children:t?Object(a.jsxs)("div",{className:"edit-form",children:[Object(a.jsx)("h4",{children:"Tutorial"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",value:t.title,onChange:this.onChangeTitle})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"description",value:t.description,onChange:this.onChangeDescription})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Status:"})}),t.published?"Published":"Pending"]})]}),t.published?Object(a.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updatePublished(!1)},children:"UnPublish"}):Object(a.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updatePublished(!0)},children:"Publish"}),Object(a.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.deleteTutorial,children:"Delete"}),Object(a.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateTutorial,children:"Update"}),Object(a.jsx)("p",{children:this.state.message})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Tutorial..."})]})})}}]),i}(n.Component),g=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var a;return Object(r.a)(this,i),(a=t.call(this,e)).onChangeSearchTitle=a.onChangeSearchTitle.bind(Object(b.a)(a)),a.retrieveTutorials=a.retrieveTutorials.bind(Object(b.a)(a)),a.refreshList=a.refreshList.bind(Object(b.a)(a)),a.setActiveTutorial=a.setActiveTutorial.bind(Object(b.a)(a)),a.removeAllTutorials=a.removeAllTutorials.bind(Object(b.a)(a)),a.searchTitle=a.searchTitle.bind(Object(b.a)(a)),a.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchTitle:""},a}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.retrieveTutorials()}},{key:"onChangeSearchTitle",value:function(e){var t=e.target.value;this.setState({searchTitle:t})}},{key:"retrieveTutorials",value:function(){var e=this;v.getAll().then((function(t){e.setState({tutorials:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveTutorials(),this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(e,t){this.setState({currentTutorial:e,currentIndex:t})}},{key:"removeAllTutorials",value:function(){var e=this;v.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchTitle",value:function(){var e=this;v.findByTitle(this.state.searchTitle).then((function(t){e.setState({tutorials:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,i=t.searchTitle,n=t.tutorials,s=t.currentTutorial,c=t.currentIndex;return Object(a.jsxs)("div",{className:"list row",children:[Object(a.jsx)("div",{className:"col-md-8",children:Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:i,onChange:this.onChangeSearchTitle}),Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchTitle,children:"Search"})})]})}),Object(a.jsxs)("div",{className:"col-md-6",children:[Object(a.jsx)("h4",{children:"Tutorials List"}),Object(a.jsx)("ul",{className:"list-group",children:n&&n.map((function(t,i){return Object(a.jsx)("li",{className:"list-group-item "+(i===c?"active":""),onClick:function(){return e.setActiveTutorial(t,i)},children:t.title},i)}))}),Object(a.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllTutorials,children:"Remove All"})]}),Object(a.jsx)("div",{className:"col-md-6",children:s?Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Tutorial"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Title:"})})," ",s.title]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Description:"})})," ",s.description]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:Object(a.jsx)("strong",{children:"Status:"})})," ",s.published?"Published":"Pending"]}),Object(a.jsx)(l.b,{to:"/tutorials/"+s.id,className:"badge badge-warning",children:"Edit"})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})}}]),i}(n.Component),x=new(function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"upload",value:function(e,t){var i=new FormData;return i.append("file",e),p.post("/upload",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return p.get("/files")}}]),e}()),T=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var a;return Object(r.a)(this,i),(a=t.call(this,e)).state={selectedFiles:void 0,currentFile:void 0,progress:0,message:"",fileInfos:[]},a}return Object(o.a)(i,[{key:"selectFile",value:function(e){this.setState({selectedFiles:e.target.files})}},{key:"upload",value:function(){var e=this,t=this.state.selectedFiles[0];this.setState({progress:0,currentFile:t}),x.upload(t,(function(t){e.setState({progress:Math.round(100*t.loaded/t.total)})})).then((function(t){return e.setState({message:t.data.message}),x.getFiles()})).then((function(t){e.setState({fileInfos:t.data})})).catch((function(){e.setState({progress:0,message:"Could not upload the file!",currentFile:void 0})})),this.setState({selectedFiles:void 0})}},{key:"componentDidMount",value:function(){var e=this;x.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"render",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,i=e.currentFile,n=e.progress,s=e.message,c=e.fileInfos;return Object(a.jsxs)("div",{children:[i&&Object(a.jsx)("div",{className:"progress",children:Object(a.jsxs)("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",style:{width:n+"%"},children:[n,"%"]})}),Object(a.jsx)("label",{className:"btn btn-default",children:Object(a.jsx)("input",{type:"file",onChange:this.selectFile})}),Object(a.jsx)("button",{className:"btn btn-success",disabled:!t,onClick:this.upload,children:"Upload"}),Object(a.jsx)("div",{className:"alert alert-light",role:"alert",children:s}),Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"card-header",children:"List of Files"}),Object(a.jsx)("ul",{className:"list-group list-group-flush",children:c&&c.map((function(e,t){return Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("a",{href:e.url,children:e.name})},t)}))})]})]})}}]),i}(n.Component),y=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(a.jsx)(l.b,{to:"/tutorials",className:"nav-link",children:"myApp"}),Object(a.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.b,{to:"/tutorials",className:"nav-link",children:"Tutorials"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.b,{to:"/add",className:"nav-link",children:"Add"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.b,{to:"/upload",className:"nav-link",children:"Upload File"})})]})]}),Object(a.jsx)("div",{className:"container mt-3",children:Object(a.jsxs)(h.c,{children:[Object(a.jsx)(h.a,{exact:!0,path:["/","/tutorials"],component:g}),Object(a.jsx)(h.a,{exact:!0,path:"/add",component:m}),Object(a.jsx)(h.a,{path:"/tutorials/:id",component:f}),Object(a.jsx)(h.a,{exact:!0,path:"/upload",component:T})]})})]})}}]),i}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(a.jsx)(l.a,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.0ceffc1d.chunk.js.map